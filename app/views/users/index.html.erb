<% content_for :title, "Users" %>

<h1 class="text-center mt-4">Feeders</h1>

<div class="d-flex digg_pagination justify-content-center">
  <div class="page_info">
    <%= page_entries_info @users %>
  </div>
</div>
<div class="d-flex digg_pagination justify-content-center mb-4">
  <%= will_paginate @users, :container => false %>
</div>

<div class="d-flex flex-column mb-4">
  <div class="text-center">
    <% @users.each do |user| %>
      <h4 class="justify-content-center"><%= link_to user.username, user %></h4>
      <p><%= pluralize(user.pet_trackers.count, " Track Records") %></p>
      <h5><%= link_to gravatar_for(user, size: 130) %></h5>
      <%= link_to "View Profile", user, class: "btn btn-outline-success btn-sm mb-4" %>
      <% if logged_in? %>
        <% if user == current_user %>
          <%= link_to "Edit Profile", edit_user_path(user), class: "btn btn-outline-secondary btn-sm mb-4" %>
        <% end %>
        <% if current_user.admin? %>
          <%= link_to "Delete user", user_path(user), class: "btn btn-outline-danger btn-sm mb-4", data: { "turbo-confirm": "Are you sure to delete this user account? The user and associated trackers will all gone..", "turbo-method": :delete } %>
        <% end %>
      <% end %>
    <% end %>
  </div>
</div>

<div class="d-flex digg_pagination justify-content-center">
  <div class="page_info">
    <%= page_entries_info @users %>
  </div>
</div>
<div class="d-flex digg_pagination justify-content-center mb-4">
  <%= will_paginate @users, :container => false %>
</div>

