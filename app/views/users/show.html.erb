<h1 class="text-center mt-4"><%= @user.username %>'s profile</h1>

<%= gravatar_for @user, size: 150 %>

<% if logged_in? && @user == current_user %>
  <div class="text-center m-4">
    <%= link_to "Edit your profile", edit_user_path(@user), class: "btn btn-outline-success btn-sm mb-4" %>
  </div>
<% end %>


<h3 class="text-center mt-4"><%= @user.username.capitalize %>'s Tracker Records</h3>

<div class="d-flex digg_pagination justify-content-center">
  <div class="page_info">
    <%= page_entries_info @pet_trackers %>
  </div>
</div>
<div class="d-flex digg_pagination justify-content-center mb-4">
  <%= will_paginate @pet_trackers, :container => false %>
</div>

<div class="d-flex float-sm-center justify-content-center mb-4">
  <%= link_to "#{image_tag('icon_add.png', width:'18px', height: '18px')}  Adding Feeding Record".html_safe, new_pet_tracker_path %>
</div>

<%= render 'pet_trackers/pet_tracker' %>

<%= column_chart [{name: "wet ate total amount", 
data: PetTracker.all.group_by_day(:date).pluck("date", "wet_amount", "wet_left_amount").map {|amount| [amount[0], (amount[1].to_f-amount[2].to_f)]}},
{name: "dry ate total amount", data: PetTracker.group_by_day(:date).pluck("date", "dry_amount", "dry_left_amount").map {|amount| [amount[0], (amount[1].to_f-amount[2].to_f)]}}], stacked: true %>

<div class="d-flex digg_pagination justify-content-center">
  <div class="page_info">
    <%= page_entries_info @pet_trackers %>
  </div>
</div>
<div class="d-flex digg_pagination justify-content-center mb-4">
  <%= will_paginate @pet_trackers, :container => false %>
</div>